# 🧠 Modular Quiz Web App

This is a customizable and modular web application for hosting quizzes generated by an external AI service. The app is designed for easy deployment and configuration using environment variables and a single configuration file, with support for Supabase authentication out of the box.

## ✨ Features

- 🔧 Modular and themeable — change json files in `configs` to fully customize content and colors
- 🔐 Optional Supabase authentication using a strategy pattern
- 🧩 Easily replace Supabase with your own auth implementation
- ⚙️ Prisma ORM for database access and migrations
- 📦 Ready to deploy with environment templates
- 🔗 Connects to a separate AI backend to generate quizzes

## 📁 Project Structure

```
/app             # App routes and pages
/components      # Shared components
/lib             # Utility functions and auth strategies
/prisma          # Database schema
/configs         # Static page content and color settings
/public          # Static assets
.env.example     # Template for environment variables
```

## 🚀 Getting Started

### 1. Clone the repository

```bash
git clone https://github.com/Studycomb/hp-web
cd hp-web
```

### 2. Install dependencies

```bash
npm install
```

### 3. Set up environment variables
Copy the example files:

```bash
cp .env.example .env
cp .env.local.example .env.local
```
Read the comments in `.env` and `.env.local` to understand what each variable does.

### 4. Generate Prisma client

```bash
npx prisma generate --schema=./prisma/schema
```

### 4. Set up your database
run:

```bash
npx prisma migrate dev --name init --schema=./prisma/schema
```

### 5. Customize your site

- Edit `colorConfig` to change theme colors
- Edit `configs/locales/en.json` and `configs/locales/sv.json` to chang static text
- Edit `configs/assets.json` to change static assets

No need to modify other code.

## 🧠 Auth Strategy

The app uses a **strategy design pattern** to support multiple authentication backends. Out of the box, it includes support for **Supabase**, but you can implement your own by following the existing strategy interface.

Set your strategy via:

```env
NEXT_PUBLIC_USE_AUTH=supabase
```

To implement a custom strategy:

1. Create a file in `lib/auth/strategies/`
2. Implement the same interface as the `supabase` strategy
3. Register your strategy in the factory

## 🌐 API Communication with AI

This web app receives quiz data from the external AI service via a secure endpoint. Make sure your `QUIZ_UPLOAD_SECRET` matches the AI repo to enable quiz uploads. Even if you are not using the AI repo, you can use the key when sending quiz data to the endpoint.

## 🧪 Tech Stack

- Next.js
- Supabase (optional)
- Prisma
- TypeScript
- Tailwind CSS

## 📄 License

http://www.apache.org/licenses/LICENSE-2.0
